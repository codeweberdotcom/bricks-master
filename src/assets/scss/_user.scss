

//----------------------------------------------------------//
//  COLORS
//----------------------------------------------------------//


.bg-matte-color {
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(1rem) saturate(180%);
  -webkit-backdrop-filter: blur(1rem) saturate(180%);
}

.bg-matte {
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(1rem);
  -webkit-backdrop-filter: blur(1rem);
}

// Создаем свою map-переменную на основе ваших gray-переменных
$custom-grays: (
  "100": $gray-100,
  "200": $gray-200,
  "300": $gray-300,
  "400": $gray-400,
  "500": $gray-500,
  "600": $gray-600,
  "700": $gray-700,
  "800": $gray-800,
  "900": $gray-900
);

// Генерируем utility-классы
@each $name, $value in $custom-grays {
  // Фоновые цвета
  .bg-gray-#{$name} {
    background-color: $value !important;
  }
  
  // Текстовые цвета
  .text-gray-#{$name} {
    color: $value !important;
  }
  
  // Цвета границ
  .border-gray-#{$name} {
    border-color: $value !important;
  }
}

// Опционально: hover-эффекты
@each $name, $value in $custom-grays {
  .hover-bg-gray-#{$name}:hover {
    background-color: $value !important;
  }
  
  .hover-text-gray-#{$name}:hover {
    color: $value !important;
  }
}



//----------------------------------------------------------//
//  NAV TABS VARIABLES
//----------------------------------------------------------//

// BASIC TABS
$nav-tabs-basic-font-size:              0.85rem !default;
$nav-tabs-basic-font-weight:            600 !default;
$nav-tabs-basic-border-width:           2px !default;
$nav-tabs-basic-border-style:           solid !default;
$nav-tabs-basic-border-color:           rgba($border, 0.25) !default;

$nav-tabs-basic-border-top:             none !default;
$nav-tabs-basic-border-right:           none !default;
$nav-tabs-basic-border-bottom:          #{$nav-tabs-basic-border-width} #{$nav-tabs-basic-border-style} #{$nav-tabs-basic-border-color} !default;
$nav-tabs-basic-border-left:            none !default;

$nav-tabs-basic-bg:                     transparent !default;
$nav-tabs-basic-active-bg:              transparent !default;
$nav-tabs-basic-margin-right:           1rem !default;
$nav-tabs-basic-padding:                0.6rem 0 !default;
$nav-tabs-basic-border-radius:          0rem !default;

$nav-tabs-basic-color:                  var(--#{$prefix}body-color) !default;
$nav-tabs-basic-hover-color:            var(--#{$prefix}primary) !default;
$nav-tabs-basic-active-color:           $nav-tabs-link-active-color !default;

$nav-tabs-basic-hover-border-color:     $nav-tabs-link-active-color !default;
$nav-tabs-basic-active-border-color:    $nav-tabs-link-active-color !default;
$nav-tabs-basic-hover-bg:               transparent !default;

$nav-tabs-basic-icon-size:              1rem !default;


// PILLS TABS
$nav-pills-font-size:                   0.85rem !default;
$nav-pills-font-weight:                 600 !default;
$nav-pills-border-width:                0px !default;
$nav-pills-border-style:                solid !default;
$nav-pills-border-color:                transparent !default;

$nav-pills-border-top:                  #{$nav-pills-border-width} #{$nav-pills-border-style} #{$nav-pills-border-color} !default;
$nav-pills-border-right:                #{$nav-pills-border-width} #{$nav-pills-border-style} #{$nav-pills-border-color} !default;
$nav-pills-border-bottom:               #{$nav-pills-border-width} #{$nav-pills-border-style} #{$nav-pills-border-color} !default;
$nav-pills-border-left:                 #{$nav-pills-border-width} #{$nav-pills-border-style} #{$nav-pills-border-color} !default;

$nav-pills-bg:                          transparent !default;
$nav-pills-active-bg:                   $nav-tabs-link-active-bg !default;
$nav-pills-margin-right:                0.5rem !default;
$nav-pills-padding:                     0.55rem 1.25rem !default;
$nav-pills-border-radius:               0.4rem !default;

$nav-pills-color:                       var(--#{$prefix}body-color) !default;
$nav-pills-hover-color:                 var(--#{$prefix}primary) !default;
$nav-pills-active-color:                var(--#{$prefix}primary) !default;

$nav-pills-hover-border-color:          $nav-tabs-link-active-color !default;
$nav-pills-hover-bg:                    $nav-tabs-link-active-bg !default;
$nav-pills-active-border-color:         transparent !default;
$nav-pills-active-box-shadow:           $box-shadow-with-border !default;

$nav-pills-box-shadow:                  none !default; // ← добавили дефолтную тень
$nav-pills-icon-size:                   1rem !default;


// FUNNY STYLE TABS (based on btn styles)
$nav-tabs-fanny-font-size:              $btn-font-size !default;
$nav-tabs-fanny-font-weight:            $btn-font-weight !default;
$nav-tabs-fanny-padding-y:              $btn-padding-y !default;
$nav-tabs-fanny-padding-x:              $btn-padding-x !default;
$nav-tabs-fanny-margin-right:           0.5rem !default;

// Border radius variants
$nav-tabs-fanny-border-radius-default:  $btn-border-radius !default; // rounded
$nav-tabs-fanny-border-radius-0:        0 !default; // rounded-0
$nav-tabs-fanny-border-radius-pill:     $rounded-pill !default; // rounded-pill

// Colors
$nav-tabs-fanny-color:                  var(--#{$prefix}body-color) !default;
$nav-tabs-fanny-hover-color:            var(--#{$prefix}primary) !default;
$nav-tabs-fanny-active-color:           var(--#{$prefix}white) !default;

// Background
$nav-tabs-fanny-bg:                     transparent !default;
$nav-tabs-fanny-hover-bg:               transparent !default;
$nav-tabs-fanny-active-bg:              var(--#{$prefix}primary) !default;

// Border
$nav-tabs-fanny-border-width:           0 !default;
$nav-tabs-fanny-border-color:           transparent !default;
$nav-tabs-fanny-active-border-color:    var(--#{$prefix}primary) !default;

// Box shadow
$nav-tabs-fanny-box-shadow:             none !default;
$nav-tabs-fanny-active-box-shadow:      $btn-active-box-shadow !default;

// Transition
$nav-tabs-fanny-transition:             $btn-transition !default;

// Icon
$nav-tabs-fanny-icon-size:              1rem !default;


//----------------------------------------------------------//
//  NAV TABS STYLES
//----------------------------------------------------------//

.nav-tabs {

  // BASIC TABS
  &.nav-tabs-basic {
    border-color: transparent;

    .nav-link {
      @include font-size($nav-tabs-basic-font-size);
      font-weight: $nav-tabs-basic-font-weight;
      color: $nav-tabs-basic-color;
      border-top:    $nav-tabs-basic-border-top;
      border-right:  $nav-tabs-basic-border-right;
      border-bottom: $nav-tabs-basic-border-bottom;
      border-left:   $nav-tabs-basic-border-left;
      background: $nav-tabs-basic-bg;
      margin-right: $nav-tabs-basic-margin-right;
      padding: $nav-tabs-basic-padding;
      border-radius: $nav-tabs-basic-border-radius;
      transition: $link-transition;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      i, svg {
        font-size: $nav-tabs-basic-icon-size;
        width: $nav-tabs-basic-icon-size;
        height: $nav-tabs-basic-icon-size;
        line-height: 1;
      }

      &:hover,
      &:focus {
        border-color: $nav-tabs-basic-hover-border-color;
        color: $nav-tabs-basic-hover-color;
        background: $nav-tabs-basic-hover-bg;
      }
    }

    .nav-link.active,
    .nav-item.show .nav-link {
      color: $nav-tabs-basic-active-color;
      border-color: $nav-tabs-basic-active-border-color;
      background: $nav-tabs-basic-active-bg;
    }
  }


  // PILLS TABS
  &.nav-pills {
    border-color: transparent;

    .nav-link {
      @include font-size($nav-pills-font-size);
      font-weight: $nav-pills-font-weight;
      color: $nav-pills-color;
      border-top:    $nav-pills-border-top;
      border-right:  $nav-pills-border-right;
      border-bottom: $nav-pills-border-bottom;
      border-left:   $nav-pills-border-left;
      background: $nav-pills-bg;
      margin-right: $nav-pills-margin-right;
      padding: $nav-pills-padding;
      border-radius: $nav-pills-border-radius;
      display: flex;
      align-items: center;
      transition: $link-transition;
      gap: 0.5rem;
      box-shadow: $nav-pills-box-shadow; // ← применили дефолтную тень

      i, svg {
        font-size: $nav-pills-icon-size;
        width: $nav-pills-icon-size;
        height: $nav-pills-icon-size;
        line-height: 1;
      }

      &:hover,
      &:focus {
        border-color: $nav-pills-hover-border-color;
        background: $nav-pills-hover-bg;
        color: $nav-pills-hover-color;
      }
    }

    .nav-link.active,
    .nav-item.show .nav-link {
      border-color: $nav-pills-active-border-color;
      background: $nav-pills-active-bg;
      color: $nav-pills-active-color;
      box-shadow: $nav-pills-active-box-shadow;
    }
  }


  // FUNNY STYLE TABS (based on btn styles)
  &.nav-tabs-fanny {
    border-color: transparent;
    border: 0;

    .nav-item {
      margin-right: $nav-tabs-fanny-margin-right;
      margin-bottom: 0;
      
      &:last-child {
        margin-right: 0;
      }
    }

    .nav-link {
      // Apply btn base styles
      @include font-size($nav-tabs-fanny-font-size);
      font-weight: $nav-tabs-fanny-font-weight;
      padding: $nav-tabs-fanny-padding-y $nav-tabs-fanny-padding-x;
      margin-right: 0; // убираем отступ, он теперь на nav-item
      
      // Default border-radius - скругление со всех сторон
      border-radius: $nav-tabs-fanny-border-radius-default;
      
      // Colors and backgrounds - неактивные без фона, бордеров, теней
      color: $nav-tabs-fanny-color;
      background: $nav-tabs-fanny-bg;
      border: 0;
      
      // Layout
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      
      // Effects
      transition: $nav-tabs-fanny-transition;
      box-shadow: none;

      i, svg {
        font-size: $nav-tabs-fanny-icon-size;
        width: $nav-tabs-fanny-icon-size;
        height: $nav-tabs-fanny-icon-size;
        line-height: 1;
      }

      &:hover,
      &:focus {
        color: $nav-tabs-fanny-hover-color;
        background: $nav-tabs-fanny-hover-bg;
        border: 0;
        box-shadow: none;
      }
    }

    .nav-link.active,
    .nav-item.show .nav-link {
      // Apply btn-primary solid styles (как btn btn-primary)
      --bs-btn-bg: var(--#{$prefix}primary);
      --bs-btn-border-color: var(--#{$prefix}primary);
      --bs-btn-hover-bg: var(--#{$prefix}primary);
      --bs-btn-hover-border-color: var(--#{$prefix}primary);
      --bs-btn-active-bg: var(--#{$prefix}primary);
      --bs-btn-active-border-color: var(--#{$prefix}primary);
      --bs-btn-color: var(--#{$prefix}white);
      --bs-btn-hover-color: var(--#{$prefix}white);
      --bs-btn-active-color: var(--#{$prefix}white);
      
      color: var(--bs-btn-color) !important;
      background-color: var(--bs-btn-bg) !important;
      border-color: var(--bs-btn-border-color);
      border: 0;
      box-shadow: $nav-tabs-fanny-active-box-shadow;
    }

    // Border radius modifiers - скругление со всех сторон (border-radius применяется ко всем углам)
    &.tab-rounded {
      .nav-link {
        border-radius: $nav-tabs-fanny-border-radius-default;
        &.active {
          border-radius: $nav-tabs-fanny-border-radius-default;
        }
      }
    }

    &.tab-rounded-0 {
      .nav-link {
        border-radius: $nav-tabs-fanny-border-radius-0;
        &.active {
          border-radius: $nav-tabs-fanny-border-radius-0;
        }
      }
    }

    &.tab-rounded-pill {
      .nav-link {
        border-radius: $nav-tabs-fanny-border-radius-pill;
        &.active {
          border-radius: $nav-tabs-fanny-border-radius-pill;
        }
      }
    }
  }

}


//----------------------------------------------------------//
//  UNORDERED LIST VARIABLES
//----------------------------------------------------------//

$unordered-list-padding-left:           1rem !default;
$unordered-list-dot-font-family:        $font-family-sans-serif !default;
$unordered-list-dot-font-size:          1rem !default;
$unordered-list-dot-font-weight:        normal !default; // ← новая переменная для font-weight
$unordered-list-dot-top:               -0.15rem !default;
$unordered-list-dot-left:               0 !default;
$unordered-list-dot-content:            $icon-dot !default;


//----------------------------------------------------------//
//  UNORDERED LIST STYLES
//----------------------------------------------------------//



.unordered-list {
  @include list-unstyled();
  li {
    position: relative;
    padding-left: 1rem;
  }
  > li:before {
    font-family: sans-serif;
    @include font-size($unordered-list-dot-font-size);
    position: absolute;
    top: -0.15rem;
    left: 0;
    @include font-size(1rem);
    content: $icon-dot;
  }
  @each $color,
  $value in $colors {
    &.bullet-#{$color} li:before {
      color: var(--#{$prefix}#{$color});
    }
  }
}


//----------------------------------------------------------//
//  BUTTONS — PADDING, FONT SIZE, RADIUS, FONT WEIGHT
//----------------------------------------------------------//

// Default (без модификатора)
$btn-padding-y:        0.5rem !default;
$btn-padding-x:        1.2rem !default;
$btn-font-size:        $font-size-base !default;
$btn-border-radius:    $border-radius !default;
$btn-font-weight:      $font-weight-bold !default;

// Extra Small (XS)
$btn-padding-y-xs:        0.25rem !default;
$btn-padding-x-xs:        0.75rem !default;
$btn-font-size-xs:        0.6rem !default;
$btn-border-radius-xs:    $border-radius-sm !default;
$btn-font-weight-xs:      $font-weight-normal !default;

// Small (SM)
$btn-padding-y-sm:        0.4rem !default;
$btn-padding-x-sm:        1rem !default;
$btn-font-size-sm:        0.7rem !default;
$btn-border-radius-sm:    $border-radius !default;
$btn-font-weight-sm:      $font-weight-bold !default;

// Medium (MD)
$btn-padding-y-md:        0.45rem !default;
$btn-padding-x-md:        1.1rem !default;
$btn-font-size-md:        0.8rem !default;
$btn-border-radius-md:    $border-radius !default;
$btn-font-weight-md:      $font-weight-bold !default;

// Large (LG)
$btn-padding-y-lg:        0.65rem !default;
$btn-padding-x-lg:        1.4rem !default;
$btn-font-size-lg:        0.85rem !default;
$btn-border-radius-lg:    $border-radius-lg !default;
$btn-font-weight-lg:      $font-weight-bold !default;

// Extra Large (ELG)
$btn-padding-y-elg:        0.8rem !default;
$btn-padding-x-elg:        1.75rem !default;
$btn-font-size-elg:        1rem !default;
$btn-border-radius-elg:    $border-radius-lg !default;
$btn-font-weight-elg:      $font-weight-bold !default;


//----------------------------------------------------------//
//  BUTTON SIZE CLASSES
//----------------------------------------------------------//

.btn-xs {
  @include button-size($btn-padding-y-xs, $btn-padding-x-xs, $btn-font-size-xs, $btn-border-radius-xs);
  font-weight: $btn-font-weight-xs;
  line-height: $input-btn-line-height;
}

.btn-sm {
  @include button-size($btn-padding-y-sm, $btn-padding-x-sm, $btn-font-size-sm, $btn-border-radius-sm);
  font-weight: $btn-font-weight-sm;
  line-height: $input-btn-line-height;
}

.btn-md {
  @include button-size($btn-padding-y-md, $btn-padding-x-md, $btn-font-size-md, $btn-border-radius-md);
  font-weight: $btn-font-weight-md;
  line-height: $input-btn-line-height;
}

.btn-lg {
  @include button-size($btn-padding-y-lg, $btn-padding-x-lg, $btn-font-size-lg, $btn-border-radius-lg);
  font-weight: $btn-font-weight-lg;
  line-height: $input-btn-line-height;
}

.btn-elg {
  @include button-size($btn-padding-y-elg, $btn-padding-x-elg, $btn-font-size-elg, $btn-border-radius-elg);
  font-weight: $btn-font-weight-elg;
  line-height: $input-btn-line-height;
}



//----------------------------------------------------------//
//  NAV
//----------------------------------------------------------//

// Верхний уровень навигации
$nav-link-text-transform: none !default;
$nav-link-letter-spacing: $letter-spacing !default;

$nav-link-padding-y-lg: 1.25rem !default;
$nav-link-padding-x-lg: 1.25rem !default;

$navbar-expand-lg-margin-top: 2.25rem !default;

@media (min-width: 992px) {
  .navbar-expand-lg.fancy:not(.fixed) .navbar-collapse .nav-link {
    padding: $nav-link-padding-y-lg $nav-link-padding-x-lg;
  }
}

@media (min-width: 992px) {
  .navbar-expand-lg.fancy:not(.fixed) .navbar-collapse-wrapper {
      padding: 0 1.5rem 0 1.5rem;
      margin-top: $navbar-expand-lg-margin-top;
  }
}


.navbar-nav > .nav-item > .nav-link {
  text-transform: $nav-link-text-transform;
  letter-spacing: $nav-link-letter-spacing;
}

//----------------------------------------------------------//
//  DROPDOWN
//----------------------------------------------------------//

$dropdown-font-weight: 700 !default;

//----------------------------------------------------------//
//  BOTTOM OVERLAY
//----------------------------------------------------------//

// Класс для затемнения нижней части блока
.bottom-overlay {
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.7) 100%);
    pointer-events: none;
    z-index: 1;
  }

  // Обеспечиваем, чтобы контент был поверх затемнения
  > * {
    position: relative;
    z-index: 2;
  }
}

//----------------------------------------------------------//
//  CUSTOM UTILITY CLASSES
//----------------------------------------------------------//

// Width max-content utility
.width-auto {
  width: max-content !important;
}


//----------------------------------------------------------//
//  SPINNERS & ICON ANIMATIONS
//----------------------------------------------------------//

.uil-spinner-alt,
.uil-spinner,
.uil-spin,
.uil-fidget-spinner,
.uil-process {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.uil-envelope-send,
.uil-envelope-upload {
  animation: spinner 1s linear infinite, wobble 0.5s ease-in-out infinite;
}

@keyframes spinner {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes wobble {
  0%,
  100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(2px);
  }
  75% {
    transform: translateX(-2px);
  }
}


//----------------------------------------------------------//
//  LOGIN BUTTON SENDING STATE
//----------------------------------------------------------//

.btn-login {
  position: relative;
  overflow: hidden;
}

.btn-login.sending::after {
  content: "Отправка...";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 14px;
  font-weight: bold;
  white-space: nowrap;
}

.btn-login.sending::before {
  content: "";
  position: absolute;
  width: 100px;
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    #000,
    #000 2px,
    transparent 2px,
    transparent 4px
  );
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
}

.btn-login.sending .letter {
  position: absolute;
  width: 20px;
  height: 14px;
  background: #f0f0f0;
  border: 1px solid #000;
  border-radius: 2px;
  bottom: 6px;
  animation: letterMove 2s linear infinite;
}

@keyframes letterMove {
  0% {
    transform: translateX(-20px);
  }
  100% {
    transform: translateX(100px);
  }
}


//----------------------------------------------------------//
//  NAVIGATION & OFFCANVAS
//----------------------------------------------------------//

.menu-item-has-children.dropdown.parent-link {
  padding-right: 1rem;
}

.offcanvas-light {
  background-color: #ffffff !important;
  color: #1e2228 !important;
}

.offcanvas-light .logo-dark {
  display: block !important;
}

.navbar.transparent.navbar-light .logo-dark {
  display: block !important;
}


//----------------------------------------------------------//
//  BREADCRUMBS
//----------------------------------------------------------//

.breadcrumb.text-dark .breadcrumb-item a {
  color: var(--bs-dark);
}

.breadcrumb.text-dark .breadcrumb-item.active,
.breadcrumb.text-dark .breadcrumb-item:hover {
  color: var(--bs-black);
}

.breadcrumb.text-white .breadcrumb-item + .breadcrumb-item::before {
  color: rgba(var(--bs-black), 0.5);
}


//----------------------------------------------------------//
//  RESPONSIVE NAVBAR COLORS (OFFCANVAS LIGHT)
//----------------------------------------------------------//

@media (max-width: 991.98px) {
  .navbar-expand-lg .navbar-collapse.offcanvas-light .nav-link,
  .navbar-expand-lg .navbar-collapse.offcanvas-light .nav-link.active,
  .navbar-expand-lg .navbar-collapse.offcanvas-light .nav-link:focus,
  .navbar-expand-lg .navbar-collapse.offcanvas-light .nav-link:hover,
  .navbar-expand-lg .navbar-collapse.offcanvas-light .show > .nav-link,
  .navbar-expand-lg .navbar-collapse.offcanvas-light .dropdown-menu .dropdown-item {
    color: #343f52 !important;
  }
}


//----------------------------------------------------------//
//  FORMS & CHECKBOXES
//----------------------------------------------------------//

.screen-reader-response,
.wpcf7-response-output {
  display: none !important;
}

.small-chekbox .form-check-input {
  width: 0.8rem;
  height: 0.8rem;
}

.small-chekbox input {
  margin-top: 6px;
}

.small-chekbox label,
.small-chekbox a {
  font-size: 0.7rem !important;
}

.form-check-input.is-invalid ~ .form-check-label,
.was-validated .form-check-input:invalid ~ .form-check-label,
.was-validated .form-check-input:invalid ~ .form-check-label a {
  color: #dc3545 !important;
}

textarea[rows="10"] {
  min-height: 200px !important;
}

//----------------------------------------------------------//
//  INPUT GROUP BORDER RADIUS OVERRIDES
//----------------------------------------------------------//

.input-group:not(.has-validation) > .dropdown-toggle:nth-last-child(n+3),
.input-group:not(.has-validation) > .form-floating:not(:last-child) > .form-control,
.input-group:not(.has-validation) > .form-floating:not(:last-child) > .form-select,
.input-group:not(.has-validation) > :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating) {
  border-top-right-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
}

.input-group > :not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback) {
  border-top-left-radius: 0 !important;
  border-bottom-left-radius: 0 !important;
}

//----------------------------------------------------------//
//  OVERRIDE THIRD-PARTY LIBRARY FONTS
//  Переопределение шрифтов сторонних библиотек на шрифты темы
//----------------------------------------------------------//

// FilePond - переопределение шрифтов Roboto и Helvetica
.filepond--root,
.filepond--root * {
  font-family: $font-family-base !important;
}

// FullCalendar - переопределение шрифта Helvetica
.fc,
.fc *,
.fc-button,
.fc-button * {
  font-family: $font-family-base !important;
}

// Дополнительно: переопределение для всех элементов, которые могут использовать Roboto или Helvetica
[style*="font-family: Roboto"],
[style*="font-family: Helvetica"],
[style*="font-family: 'Roboto'"],
[style*="font-family: 'Helvetica'"] {
  font-family: $font-family-base !important;
}