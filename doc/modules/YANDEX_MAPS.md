# Yandex Maps - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–ª–∞—Å—Å–∞ `Codeweber_Yandex_Maps` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç–∞–º–∏ –≤ —Ç–µ–º–µ Codeweber.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-api-–∫–ª—é—á–∞)
4. [–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–º–µ—Ç–æ–¥—ã)
5. [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—Ä—Ç—ã](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–∫–∞—Ä—Ç—ã)
6. [–ú–∞—Ä–∫–µ—Ä—ã](#–º–∞—Ä–∫–µ—Ä—ã)
7. [–°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏](#—Å–ø–∏–Ω–Ω–µ—Ä-–∑–∞–≥—Ä—É–∑–∫–∏)
8. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
9. [JavaScript API](#javascript-api)

## üéØ –û–±–∑–æ—Ä

–ö–ª–∞—Å—Å `Codeweber_Yandex_Maps` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç–∞–º–∏ –¥–ª—è WordPress —Ç–µ–º—ã Codeweber. –ö–ª–∞—Å—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é (—Å–∞–π–¥–±–∞—Ä) —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é –º–∞—Ä–∫–µ—Ä–æ–≤
- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –±–∞–ª—É–Ω—ã
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ Redux Framework

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
<?php
// –ü–æ–ª—É—á–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ (Singleton)
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

// –†–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç—É
echo $yandex_maps->render_map(
    array(
        'map_id' => 'my-map',
        'center' => array(55.76, 37.64), // –ú–æ—Å–∫–≤–∞
        'zoom' => 15,
        'height' => 500,
    ),
    array() // –ú–∞—Ä–∫–µ—Ä—ã (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è –∫–∞—Ä—Ç—ã –±–µ–∑ –º–∞—Ä–∫–µ—Ä–æ–≤)
);
?>
```

### –ö–∞—Ä—Ç–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏

```php
<?php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

$markers = array(
    array(
        'id' => 'marker-1',
        'coords' => array(55.76, 37.64),
        'title' => '–û—Ñ–∏—Å –≤ –ú–æ—Å–∫–≤–µ',
        'address' => '–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1',
        'phone' => '+7 (495) 123-45-67',
        'workingHours' => '–ü–Ω-–ü—Ç: 9:00 - 18:00',
        'city' => '–ú–æ—Å–∫–≤–∞',
    ),
);

echo $yandex_maps->render_map(
    array(
        'map_id' => 'offices-map',
        'center' => array(55.76, 37.64),
        'zoom' => 10,
        'height' => 600,
        'show_sidebar' => true,
        'sidebar_title' => '–ù–∞—à–∏ –æ—Ñ–∏—Å—ã',
    ),
    $markers
);
?>
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Redux Framework:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã ‚Üí Yandex Maps**
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á –Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

API –∫–ª—é—á –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ [–Ø–Ω–¥–µ–∫—Å.–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](https://developer.tech.yandex.ru/services/)

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### `get_instance()`

–ü–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ (Singleton –ø–∞—Ç—Ç–µ—Ä–Ω):

```php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();
```

### `render_map($args, $markers)`

–†–µ–Ω–¥–µ—Ä–∏—Ç –∫–∞—Ä—Ç—É —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `$args` (array) - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç—ã
- `$markers` (array) - –ú–∞—Å—Å–∏–≤ –º–∞—Ä–∫–µ—Ä–æ–≤

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** HTML –∫–æ–¥ –∫–∞—Ä—Ç—ã

```php
echo $yandex_maps->render_map($args, $markers);
```

### `has_api_key()`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ API –∫–ª—é—á:

```php
if ($yandex_maps->has_api_key()) {
    // API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω
}
```

## üó∫Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—Ä—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `map_id` | string | `'yandex-map-' . uniqid()` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∫–∞—Ä—Ç—ã |
| `center` | array | `[55.76, 37.64]` | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ (—à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞) |
| `zoom` | int | `10` | –ú–∞—Å—à—Ç–∞–± –∫–∞—Ä—Ç—ã (1-19) |
| `height` | int | `500` | –í—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç—ã –≤ –ø–∏–∫—Å–µ–ª—è—Ö |
| `width` | string | `'100%'` | –®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç—ã |
| `border_radius` | int | `8` | –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –≤ –ø–∏–∫—Å–µ–ª—è—Ö |
| `map_type` | string | `'yandex#map'` | –¢–∏–ø –∫–∞—Ä—Ç—ã: `yandex#map`, `yandex#satellite`, `yandex#hybrid` |

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `enable_scroll_zoom` | bool | `true` | –ó—É–º –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏ |
| `enable_drag` | bool | `true` | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã |
| `enable_dbl_click_zoom` | bool | `true` | –ó—É–º –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º |
| `enable_multi_touch` | bool | `true` | –ú—É–ª—å—Ç–∏—Ç–∞—á –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö |

### –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `controls` | array | `['zoomControl', 'typeSelector', 'fullscreenControl']` | –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ |
| `search_control` | bool | `false` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞ |
| `geolocation_control` | bool | `false` | –ö–Ω–æ–ø–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ |
| `route_button` | bool | `false` | –ö–Ω–æ–ø–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ |

### –°–∞–π–¥–±–∞—Ä

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `show_sidebar` | bool | `false` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é |
| `sidebar_position` | string | `'left'` | –ü–æ–∑–∏—Ü–∏—è: `'left'` –∏–ª–∏ `'right'` |
| `sidebar_title` | string | `''` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∞–π–¥–±–∞—Ä–∞ |
| `show_filters` | bool | `false` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã |
| `filter_by_city` | bool | `false` | –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É |
| `filter_by_category` | bool | `false` | –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |

### –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `clusterer` | bool | `false` | –í–∫–ª—é—á–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é |
| `clusterer_preset` | string | `'islands#invertedVioletClusterIcons'` | –ü—Ä–µ—Å–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ |
| `auto_fit_bounds` | bool | `true` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥–æ–Ω—è—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥ –º–∞—Ä–∫–µ—Ä—ã |

### –ú–∞—Ä–∫–µ—Ä—ã –∏ –±–∞–ª—É–Ω—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `marker_type` | string | `'default'` | –¢–∏–ø –º–∞—Ä–∫–µ—Ä–∞: `'default'`, `'custom'`, `'logo'` |
| `marker_preset` | string | `'islands#redDotIcon'` | –ü—Ä–µ—Å–µ—Ç –º–∞—Ä–∫–µ—Ä–∞ |
| `marker_color` | string | `'#FF0000'` | –¶–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–∞ |
| `marker_open_balloon_on_click` | bool | `true` | –û—Ç–∫—Ä—ã–≤–∞—Ç—å –±–∞–ª—É–Ω –ø–æ –∫–ª–∏–∫—É |
| `marker_auto_open_balloon` | bool | `false` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –±–∞–ª—É–Ω |
| `balloon_max_width` | int | `300` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –±–∞–ª—É–Ω–∞ |

## üìç –ú–∞—Ä–∫–µ—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞

```php
$marker = array(
    'id' => 'unique-marker-id',           // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    'coords' => array(55.76, 37.64),      // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã [—à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞] (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    'title' => '–ù–∞–∑–≤–∞–Ω–∏–µ',                // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–∞—Ä–∫–µ—Ä–∞
    'address' => '–ê–¥—Ä–µ—Å',                 // –ê–¥—Ä–µ—Å
    'phone' => '+7 (495) 123-45-67',      // –¢–µ–ª–µ—Ñ–æ–Ω
    'workingHours' => '–ü–Ω-–ü—Ç: 9:00-18:00', // –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã
    'city' => '–ú–æ—Å–∫–≤–∞',                   // –ì–æ—Ä–æ–¥ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤)
    'category' => '–û—Ñ–∏—Å',                  // –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤)
    'link' => 'https://example.com',       // –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    'balloonContent' => 'HTML –∫–æ–Ω—Ç–µ–Ω—Ç',    // –ö–∞—Å—Ç–æ–º–Ω—ã–π HTML –¥–ª—è –±–∞–ª—É–Ω–∞
    'balloonContentHeader' => '–ó–∞–≥–æ–ª–æ–≤–æ–∫', // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –±–∞–ª—É–Ω–∞
    'hintContent' => '–ü–æ–¥—Å–∫–∞–∑–∫–∞',          // –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    'description' => '–û–ø–∏—Å–∞–Ω–∏–µ',           // –û–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞)
);
```

### –ü—Ä–∏–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –º–∞—Ä–∫–µ—Ä–æ–≤

```php
$markers = array(
    array(
        'id' => 'office-1',
        'coords' => array(55.76, 37.64),
        'title' => '–û—Ñ–∏—Å –≤ –ú–æ—Å–∫–≤–µ',
        'address' => '–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1',
        'phone' => '+7 (495) 123-45-67',
        'workingHours' => '–ü–Ω-–ü—Ç: 9:00 - 18:00',
        'city' => '–ú–æ—Å–∫–≤–∞',
        'category' => '–û—Ñ–∏—Å',
        'link' => get_permalink(123),
        'description' => '–ì–ª–∞–≤–Ω—ã–π –æ—Ñ–∏—Å –∫–æ–º–ø–∞–Ω–∏–∏',
    ),
    array(
        'id' => 'office-2',
        'coords' => array(59.93, 30.31),
        'title' => '–û—Ñ–∏—Å –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ',
        'address' => '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä., –¥. 1',
        'phone' => '+7 (812) 123-45-67',
        'workingHours' => '–ü–Ω-–ü—Ç: 9:00 - 18:00',
        'city' => '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
        'category' => '–û—Ñ–∏—Å',
        'link' => get_permalink(124),
        'description' => '–§–∏–ª–∏–∞–ª –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ',
    ),
);
```

## ‚è≥ –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

–ö–ª–∞—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–∞—Ä—Ç—ã. –°–ø–∏–Ω–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `.spinner` –∏–∑ —Ç–µ–º—ã.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–∞—Ä—Ç—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç:
   ```html
   <div class="spinner spinner-overlay" id="map-id-loader"></div>
   ```

2. **–í–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏** —Å–ø–∏–Ω–Ω–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –æ–±–ª–∞—Å—Ç–∏ –∫–∞—Ä—Ç—ã

3. **–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –∫–∞—Ä—Ç—ã —Å–ø–∏–Ω–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–∏–Ω–Ω–µ—Ä–∞

–°–ø–∏–Ω–Ω–µ—Ä –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–ª–∞—Å—Å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä, –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ CSS:

```css
.yandex-map-loader {
    display: none !important;
}
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç —á–µ—Ä–µ–∑ JavaScript –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–ø–∏–Ω–Ω–µ—Ä–∞

–°–ø–∏–Ω–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `.spinner` –∏–∑ —Ç–µ–º—ã. –î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ:

1. **–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª–∏ –≤ SCSS:**
   ```scss
   .spinner.spinner-overlay {
       background: rgba(0, 0, 0, 0.8); // –¢–µ–º–Ω—ã–π —Ñ–æ–Ω
   }
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:**
   - `.spinner-overlay-dark` - —Ç–µ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
   - `.spinner-sm` - –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä
   - `.spinner-lg` - –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–ª–∞—Å—Å–µ `.spinner` —Å–º. –≤ `src/assets/scss/theme/_animations.scss`

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è –∫–∞—Ä—Ç–∞

```php
<?php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

echo $yandex_maps->render_map(
    array(
        'map_id' => 'simple-map',
        'center' => array(55.76, 37.64),
        'zoom' => 15,
        'height' => 400,
    ),
    array()
);
?>
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–∞—Ä—Ç–∞ —Å —Å–∞–π–¥–±–∞—Ä–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```php
<?php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

$markers = array(/* ... –º–∞—Ä–∫–µ—Ä—ã ... */);

echo $yandex_maps->render_map(
    array(
        'map_id' => 'offices-map',
        'center' => array(55.76, 37.64),
        'zoom' => 10,
        'height' => 600,
        'show_sidebar' => true,
        'sidebar_title' => '–ù–∞—à–∏ –æ—Ñ–∏—Å—ã',
        'show_filters' => true,
        'filter_by_city' => true,
        'filter_by_category' => true,
    ),
    $markers
);
?>
```

### –ü—Ä–∏–º–µ—Ä 3: –ö–∞—Ä—Ç–∞ —Å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–µ–π

```php
<?php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

echo $yandex_maps->render_map(
    array(
        'map_id' => 'clustered-map',
        'center' => array(55.76, 37.64),
        'zoom' => 10,
        'clusterer' => true,
        'auto_fit_bounds' => true,
    ),
    $markers
);
?>
```

### –ü—Ä–∏–º–µ—Ä 4: –ö–∞—Ä—Ç–∞ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –æ—Ñ–∏—Å–æ–≤

```php
<?php
// –í archive-offices.php
$yandex_maps = Codeweber_Yandex_Maps::get_instance();

$markers = array();
$offices = new WP_Query(array(
    'post_type' => 'offices',
    'posts_per_page' => -1,
));

if ($offices->have_posts()) {
    while ($offices->have_posts()) {
        $offices->the_post();
        $markers[] = array(
            'id' => get_the_ID(),
            'coords' => array(
                floatval(get_post_meta(get_the_ID(), '_office_latitude', true)),
                floatval(get_post_meta(get_the_ID(), '_office_longitude', true))
            ),
            'title' => get_the_title(),
            'address' => get_post_meta(get_the_ID(), '_office_address', true),
            'phone' => get_post_meta(get_the_ID(), '_office_phone', true),
            'workingHours' => get_post_meta(get_the_ID(), '_office_working_hours', true),
            'city' => get_post_meta(get_the_ID(), '_office_city', true),
            'link' => get_permalink(),
            'description' => get_post_meta(get_the_ID(), '_office_description', true),
        );
    }
    wp_reset_postdata();
}

echo $yandex_maps->render_map(
    array(
        'map_id' => 'offices-archive-map',
        'center' => !empty($markers) ? $markers[0]['coords'] : array(55.76, 37.64),
        'zoom' => 10,
        'height' => 600,
        'show_sidebar' => true,
        'sidebar_title' => '–û—Ñ–∏—Å—ã',
        'show_filters' => true,
        'filter_by_city' => true,
        'clusterer' => count($markers) > 10,
        'auto_fit_bounds' => true,
        'search_control' => Redux::get_option('redux_demo', 'yandex_maps_search_control', false),
    ),
    $markers
);
?>
```

## üîß JavaScript API

–ö–ª–∞—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ JavaScript. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç `CodeweberYandexMaps`.

### –°–æ–±—ã—Ç–∏—è –∫–∞—Ä—Ç—ã

–ö–∞—Ä—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
- –ö–ª–∏–∫–∏ –ø–æ –º–∞—Ä–∫–µ—Ä–∞–º
- –í—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–∞–π–¥–±–∞—Ä–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –≥–æ—Ä–æ–¥—É/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –ú–µ—Ç–æ–¥—ã JavaScript –∫–ª–∞—Å—Å–∞

#### `hideLoader()`

–°–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã.

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
map.hideLoader();
```

#### `fitBounds(placemarks)`

–ü–æ–¥–≥–æ–Ω—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã –ø–æ–¥ –º–∞—Ä–∫–µ—Ä—ã:

```javascript
map.fitBounds(); // –ü–æ–¥–æ–≥–Ω–∞—Ç—å –ø–æ–¥ –≤—Å–µ –º–∞—Ä–∫–µ—Ä—ã
map.fitBounds([placemark1, placemark2]); // –ü–æ–¥–æ–≥–Ω–∞—Ç—å –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –∫–ª–∞—Å—Å—ã

- `.codeweber-yandex-map-wrapper` - –û–±–µ—Ä—Ç–∫–∞ –∫–∞—Ä—Ç—ã
- `.codeweber-yandex-map` - –≠–ª–µ–º–µ–Ω—Ç –∫–∞—Ä—Ç—ã
- `.spinner.spinner-overlay` - –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- `.codeweber-map-sidebar` - –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é
- `.codeweber-map-sidebar-item` - –≠–ª–µ–º–µ–Ω—Ç —Å–∞–π–¥–±–∞—Ä–∞
- `.codeweber-map-sidebar-item.active` - –ê–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π

–°—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
- `functions/integrations/yandex-maps/assets/css/yandex-maps.css`

–î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –¥–æ—á–µ—Ä–Ω—é—é —Ç–µ–º—É –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç–∏–ª–∏.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Singleton - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_instance()`
- API –∫–ª—é—á –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞—Ä—Ç
- –°–ø–∏–Ω–Ω–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `render_map()`
- –ö–ª–∞—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ —Å—Ç–∏–ª–∏

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–°–æ–∑–¥–∞–Ω–∏–µ CPT](CPT_CREATION.md) - –°–æ–∑–¥–∞–Ω–∏–µ Custom Post Types
- [–ê—Ä—Ö–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã](ARCHIVE_TEMPLATES.md) - –ü—Ä–∏–º–µ—Ä—ã –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [Single —à–∞–±–ª–æ–Ω—ã](SINGLE_TEMPLATES.md) - –ü—Ä–∏–º–µ—Ä—ã single —Å—Ç—Ä–∞–Ω–∏—Ü

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-12-23

