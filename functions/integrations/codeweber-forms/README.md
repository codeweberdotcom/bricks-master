# CodeWeber Forms Module

–ú–æ–¥—É–ª—å —Ñ–æ—Ä–º –¥–ª—è —Ç–µ–º—ã CodeWeber - –∞–Ω–∞–ª–æ–≥ Contact Form 7.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìñ **[–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./DOCUMENTATION.md)** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–∞—Ö, –º–µ—Ç–æ–¥–∞—Ö, API –∏ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üîå **[API Reference](./API-REFERENCE.md)** - –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ REST API, —Ö—É–∫–∞–º –∏ —Å–æ–±—ã—Ç–∏—è–º

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º —á–µ—Ä–µ–∑ Gutenberg –±–ª–æ–∫–∏
- ‚úÖ –í—Å–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π (text, email, textarea, select, radio, checkbox, file, etc.)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫ –≤ –ë–î
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ SMTP (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Redux)
- ‚úÖ Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞
- ‚úÖ Honeypot –∫–∞–ø—á–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Ç–ø—Ä–∞–≤–æ–∫
- ‚úÖ –®–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ)
- ‚úÖ –®–æ—Ä—Ç–∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º

## –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Gutenberg (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Forms ‚Üí Add New Form**
2. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ **Form** –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "Codeweber Gutenberg Blocks"
3. –í–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫–∏ **Form Field**
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–ª—è –≤ Inspector Controls:
   - –¢–∏–ø –ø–æ–ª—è
   - Label –∏ Placeholder
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –®–∏—Ä–∏–Ω–∞ (Bootstrap grid)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É –≤ Inspector Controls:
   - Email –ø–æ–ª—É—á–∞—Ç–µ–ª—è
   - Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
   - –¢–µ–º–∞ –ø–∏—Å—å–º–∞
   - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
   - –ö–∞–ø—á–∞ –∏ Rate limiting

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —à–æ—Ä—Ç–∫–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–æ—Ä—Ç–∫–æ–¥ –Ω–∞ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:
```
[codeweber_form id="123"]
```
–∏–ª–∏
```
[codeweber_form name="Contact Form"]
```

## –¢–∏–ø—ã –ø–æ–ª–µ–π

- `text` - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
- `email` - Email –ø–æ–ª–µ
- `tel` - –¢–µ–ª–µ—Ñ–æ–Ω
- `url` - URL
- `textarea` - –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç
- `select` - –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
- `radio` - –†–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∏
- `checkbox` - –ß–µ–∫–±–æ–∫—Å—ã
- `file` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–æ–¥–∏–Ω–æ—á–Ω–æ–µ/–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ)
- `date` - –î–∞—Ç–∞
- `time` - –í—Ä–µ–º—è
- `number` - –ß–∏—Å–ª–æ
- `hidden` - –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ

## –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–ø—Ä–∞–≤–æ–∫

–í—Å–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∞–¥–º–∏–Ω–∫–µ:
- **Form Submissions ‚Üí All Submissions** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ñ–æ—Ä–º–µ, —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- **Form Submissions ‚Üí Settings** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Form Submissions ‚Üí Email Templates** - —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º

## –•—É–∫–∏

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç PHP –∏ JavaScript —Ö—É–∫–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Contact Form 7).

### PHP —Ö—É–∫–∏ (—Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)

```php
// –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–æ—Ä–º—ã
add_action('codeweber_form_before_send', function($form_id, $form_settings, $fields) {
    // –í–∞—à –∫–æ–¥
}, 10, 3);

// –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
add_action('codeweber_form_after_saved', function($submission_id, $form_id, $form_data) {
    // –í–∞—à –∫–æ–¥
}, 10, 3);

// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
add_action('codeweber_form_after_send', function($form_id, $form_settings, $submission_id) {
    // –í–∞—à –∫–æ–¥
}, 10, 3);

// –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
add_action('codeweber_form_send_error', function($form_id, $form_data, $error) {
    error_log("Form error: $error");
}, 10, 3);

// –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
add_action('codeweber_form_opened', function($form_id) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
}, 10, 1);
```

### JavaScript —Ö—É–∫–∏ (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)

```javascript
// –§–æ—Ä–º–∞ –æ—Ç–∫—Ä—ã—Ç–∞ (–∑–∞–≥—Ä—É–∂–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
document.addEventListener('codeweberFormOpened', function(event) {
    const formId = event.detail.formId;
    const form = event.detail.form;
    console.log('Form opened:', formId);
});

// –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ preventDefault)
document.addEventListener('codeweberFormSubmitting', function(event) {
    const formId = event.detail.formId;
    const form = event.detail.form;
    const formData = event.detail.formData;
    
    // –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É
    // event.preventDefault();
});

// –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
document.addEventListener('codeweberFormInvalid', function(event) {
    const formId = event.detail.formId;
    const form = event.detail.form;
    console.log('Validation failed:', event.detail.message);
});

// –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
document.addEventListener('codeweberFormSubmitted', function(event) {
    const formId = event.detail.formId;
    const submissionId = event.detail.submissionId;
    const message = event.detail.message;
    
    // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –ø–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ —Ç.–¥.
    console.log('Form submitted successfully:', submissionId);
});

// –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å–µ—Ç—å –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä)
document.addEventListener('codeweberFormError', function(event) {
    const formId = event.detail.formId;
    const message = event.detail.message;
    console.error('Form error:', message);
});
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è JavaScript —Ö—É–∫–æ–≤

```javascript
// –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∫–∞–∫ –≤ CF7)
document.addEventListener('codeweberFormSubmitted', function(event) {
    const form = event.detail.form;
    const modal = form.closest('.modal');
    
    if (modal && typeof bootstrap !== 'undefined') {
        const bsModal = bootstrap.Modal.getInstance(modal);
        if (bsModal) {
            setTimeout(() => bsModal.hide(), 2000);
        }
    }
});

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
document.addEventListener('codeweberFormOpened', function(event) {
    // Google Analytics, Matomo –∏ —Ç.–¥.
    if (typeof gtag !== 'undefined') {
        gtag('event', 'form_view', {
            'form_id': event.detail.formId
        });
    }
});

document.addEventListener('codeweberFormSubmitted', function(event) {
    if (typeof gtag !== 'undefined') {
        gtag('event', 'form_submit', {
            'form_id': event.detail.formId,
            'submission_id': event.detail.submissionId
        });
    }
});
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

–û—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `wp_codeweber_forms_submissions`:
- `form_id` - ID —Ñ–æ—Ä–º—ã (CPT)
- `submission_data` - JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª–µ–π
- `files_data` - JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–∞–π–ª–∞—Ö
- `status` - new, read, archived, deleted
- `email_sent` - —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ email

